<div class="max-w-3xl mx-auto">
  <div class="text-center mb-8">
    <h1 class="text-4xl font-bold tracking-tight text-slate-900">{{ 'translator.title' | translate }}</h1>
    <p class="mt-2 text-lg text-slate-600">{{ 'translator.subheading' | translate }}</p>
  </div>

  <div class="bg-white rounded-xl shadow-lg p-8 space-y-6">
    <div>
      <label for="inputText" class="block text-sm font-medium text-slate-700 mb-1">{{ 'translator.germanLabel' | translate }}</label>
      <textarea
        id="inputText"
        rows="5"
        [ngModel]="inputText()"
        (ngModelChange)="inputText.set($event)"
        [placeholder]="'translator.germanPlaceholder' | translate"
        class="w-full p-3 border border-slate-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition bg-slate-50 text-slate-900"></textarea>
    </div>

    <div>
      <label for="targetLanguage" class="block text-sm font-medium text-slate-700 mb-1">{{ 'translator.targetLabel' | translate }}</label>
      <select
        id="targetLanguage"
        [ngModel]="targetLanguage()"
        (ngModelChange)="targetLanguage.set($event === 'English' ? 'English' : 'Tamil')"
        class="w-full p-3 border border-slate-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition bg-slate-50 text-slate-900">
        <option value="English">English</option>
        <option value="Tamil">Tamil (தமிழ்)</option>
      </select>
    </div>

    <button
      (click)="onTranslate()"
      [disabled]="isLoading() || !inputText().trim()"
      class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-slate-400 disabled:cursor-not-allowed transition">
      @if(isLoading()){
        <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white"></div>
      } @else {
        <span>{{ 'translator.translateButton' | translate }}</span>
      }
    </button>

    @if (translatedText() || error()) {
      <div class="border-t pt-6">
        <h3 class="text-lg font-semibold mb-2 text-slate-800">{{ 'translator.resultTitle' | translate }}</h3>
        @if(error()){
          <div class="p-4 bg-red-50 text-red-700 rounded-md">
            {{ 'translator.error' | translate }}
          </div>
        } @else {
          <div class="p-4 bg-slate-50 text-slate-800 rounded-md whitespace-pre-wrap font-mono">
            {{ translatedText() }}
          </div>
        }
      </div>
    }
  </div>
</div>